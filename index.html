<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>Lab Library｜ISBNスキャナ（Mobile Fixed Button）</title>
  <style>
    :root{
      --brand:#d33a57; --brand-weak:#e8728b; --ink:#2f3a4a; --text:#5a6473; --muted:#7b8794;
      --panel:#fdeaf0; --bg:#fbfcfe; --ring:0 0 0 3px rgba(211,58,87,.18), 0 1px 2px rgba(0,0,0,.06) inset;
      --shadow-xl:0 32px 80px rgba(27,39,51,.16); --shadow-md:0 12px 32px rgba(27,39,51,.10);
      --radius-2xl:28px; --radius-xl:20px; --safe-bottom:env(safe-area-inset-bottom,16px);
    }

    html,body{height:100%}
    body{
      margin:0; color:var(--text);
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Hiragino Sans", "Noto Sans JP", "Yu Gothic UI", "Yu Gothic", "游ゴシック", "Meiryo", sans-serif;
      background:
        radial-gradient(1200px 600px at 20% -10%, #ffeef4 0%, rgba(255,255,255,0) 60%),
        radial-gradient(1000px 500px at 90% 0%, #eef5ff 0%, rgba(255,255,255,0) 55%),
        var(--bg);
      display:flex; flex-direction:column; align-items:center; min-height:100dvh;
    }

    header{ width:min(960px, 94vw); text-align:center; padding-top:48px; padding-bottom:18px }
    .brand{ display:inline-flex; align-items:center; gap:14px; color:var(--ink) }
    .brand svg{ width:40px; height:40px; color:var(--brand) }
    .brand h1{ font-size:clamp(26px,7vw,44px); line-height:1.12; margin:0; font-weight:800; letter-spacing:.2px }
    .subtitle{ margin-top:10px; color:var(--text); font-size:clamp(13px,3.6vw,18px) }
    .underline{ width:140px; height:6px; margin:18px auto 0; border-radius:999px; background:var(--brand); opacity:.9 }

    main.card{
      width:min(820px, 92vw); margin:32px auto 0; background:var(--panel);
      border-radius:var(--radius-2xl); box-shadow:var(--shadow-xl);
      padding:28px clamp(16px, 6vw, 36px);
    }
    main.card h2{ margin:10px 0 22px; text-align:center; color:var(--ink); font-size:clamp(18px,5.4vw,24px); letter-spacing:.6px }

    .formRow{ max-width:600px; margin:0 auto; display:flex; flex-direction:column; gap:16px }
    .label{ font-weight:800; color:var(--ink); font-size:15px }
    input[type="text"]{
      width:100%; background:#fff; border:1px solid #e6e8eb; border-radius:14px;
      padding:16px 18px; font-size:17px; outline:none; text-align:center;
      box-sizing:border-box;
      box-shadow: inset 0 1px 0 rgba(0,0,0,.02); transition: box-shadow .15s ease, border-color .15s ease;
    }
    input[type="text"]::placeholder{ color:#9aa5b1 }
    input[type="text"]:focus{ border-color:#f2b5c1; box-shadow:var(--ring) }

    .scanBox{ position:relative; overflow:hidden; border-radius:18px; background:#fff; border:1px solid #e9edf3; box-shadow:var(--shadow-md); padding:0; }
    .scanBtn{
      width:100%; display:flex; align-items:center; justify-content:center; gap:10px;
      padding:16px; background:var(--brand-weak); color:#fff; border:0; cursor:pointer;
      font-size:18px; font-weight:700; border-radius:16px; letter-spacing:.6px;
      margin:0; box-sizing:border-box;
      transition: transform .03s ease, filter .2s ease, background .2s ease;
    }
    .scanBtn:hover{ filter:brightness(1.03) }
    .scanBtn:active{ transform:translateY(1px) }

    .scanBox.active{ background:#0a0a0a; border-color:#0f0f14 }
    .toolbar{ display:none; position:absolute; right:10px; bottom:10px; z-index:3; gap:8px }
    .scanBox.active .toolbar{ display:flex }
    .tBtn{ padding:.55rem .8rem; border-radius:12px; border:1px solid #d9dee6; background:#f7f8fb; font-size:.92rem; color:#313e4e; cursor:pointer }

    video#preview{ width:100%; height:auto; display:none; aspect-ratio:3/4; object-fit:cover; background:#000; border-radius:18px }
    .scanBox.active video#preview{ display:block }

    .statusLine{ text-align:center; color:#566273; font-size:14px; margin:10px 0 6px }
    .note{ margin:6px auto 0; color:var(--muted); display:flex; align-items:flex-start; gap:8px; font-size:13px; max-width:600px }
    .note .dot{ width:8px; height:8px; border-radius:999px; background:var(--brand); margin-top:7px }

    footer{ margin:36px 0 calc(var(--safe-bottom) + 12px); color:var(--muted); font-size:12px }
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/>
        <path d="M20 22H6.5A2.5 2.5 0 0 1 4 19.5V5.5A2.5 2.5 0 0 1 6.5 3H20v19z"/>
      </svg>
      <h1>Lab Library</h1>
    </div>
    <div class="subtitle">研究室図書管理システム</div>
    <div class="underline"></div>
  </header>

  <main class="card">
    <h2>本の貸出・返却</h2>
    <div class="formRow">
      <label class="label" for="yourName">お名前</label>
      <input id="yourName" type="text" placeholder="名前を入力してください">

      <div id="scanBox" class="scanBox">
        <button id="startBtn" class="scanBtn">📷 カメラを起動してスキャン</button>
        <div class="toolbar">
          <button id="stopBtn" class="tBtn">停止</button>
        </div>
        <video id="preview" playsinline muted></video>
      </div>

      <div class="statusLine">検出結果: <span id="result">—</span></div>
      <div class="note"><span class="dot"></span><span>名前を入力してから起動してください。HTTPS環境（またはlocalhost）で動作します。</span></div>
    </div>
  </main>

  <footer><small>© 2025 Lab Library System</small></footer>
</body>
</html>
